(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){e.exports={BreadBottom:"BurgerIngredients_BreadBottom__11f2k",BreadTop:"BurgerIngredients_BreadTop__1twAw",Seeds1:"BurgerIngredients_Seeds1__cQpS-",Seeds2:"BurgerIngredients_Seeds2__2fxZ5",Meat:"BurgerIngredients_Meat__3BvLr",Cheese:"BurgerIngredients_Cheese__1P8G3",Salad:"BurgerIngredients_Salad__2Wn_5",Bacon:"BurgerIngredients_Bacon__pkRBG"}},18:function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__2iVjz",Logo:"SideDrawer_Logo__3j1RJ",Open:"SideDrawer_Open__1mONl",Close:"SideDrawer_Close__167GY"}},184:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(60),c=n.n(i),s=(n(80),n(6)),o=n(7),l=n(9),d=n(8),u=n(4),j=(n(81),n(3)),h=n(33),b=n.n(h),p=n(23),O=n.n(p),g=n(0);var v=function(e){var t=e.disabled,n=e.added,r=e.removed;return Object(g.jsxs)("div",{className:O.a.BuildControl,children:[Object(g.jsx)("div",{className:O.a.Label,children:e.label}),Object(g.jsx)("button",{className:O.a.Less,disabled:t,onClick:r,children:"Less"}),Object(g.jsx)("button",{className:O.a.More,onClick:n,children:"More"})]})},m=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}];var f=function(e){var t=e.disabled,n=e.purchasable,r=e.ordered,a=e.Price,i=e.ingredientAdded,c=e.ingredientRemoved;return Object(g.jsxs)("div",{className:b.a.BuildControls,children:[Object(g.jsxs)("p",{children:["Current Price: ",Object(g.jsx)("strong",{children:a.toFixed(2)}),"$"]}),m.map((function(e){return Object(g.jsx)(v,{label:e.label,disabled:t[e.type],added:function(){return i(e.type)},removed:function(){return c(e.type)}},e.label)})),Object(g.jsx)("button",{className:b.a.OrderButton,disabled:!n,onClick:r,children:"ORDER NOW"})]})},x=n(75),_=n(61),C=n.n(_),y=n(15),k=n.n(y),S=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=null;switch(this.props.type){case"bread-bottom":e=Object(g.jsx)("div",{className:k.a.BreadBottom});break;case"bread-top":e=Object(g.jsxs)("div",{className:k.a.BreadTop,children:[Object(g.jsx)("div",{className:k.a.Seeds1}),Object(g.jsx)("div",{className:k.a.Seeds2})]});break;case"meat":e=Object(g.jsx)("div",{className:k.a.Meat});break;case"cheese":e=Object(g.jsx)("div",{className:k.a.Cheese});break;case"bacon":e=Object(g.jsx)("div",{className:k.a.Bacon});break;case"salad":e=Object(g.jsx)("div",{className:k.a.Salad});break;default:e=null}return e}}]),n}(r.Component),N=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.ingredients).map((function(t){return Object(x.a)(Array(e.props.ingredients[t])).map((function(e,n){return Object(g.jsx)(S,{type:t},t+n)}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length&&(t=Object(g.jsx)("p",{children:"Please start adding ingredients !"})),Object(g.jsxs)("div",{className:C.a.Burger,children:[Object(g.jsx)(S,{type:"bread-top"}),t,Object(g.jsx)(S,{type:"bread-bottom"})]})}}]),n}(r.Component),B=function(e){return e.children},w=n(34),I=n.n(w);var D=function(e){return Object(g.jsx)("button",{className:[I.a.Button,I.a[e.btnType]].join(" "),onClick:e.clicked,disabled:e.disabled,children:e.children})};var T=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(g.jsxs)("li",{children:[Object(g.jsx)("span",{style:{textTransform:"capitalize"},children:t}),": ",e.ingredients[t]]},t)}));return Object(g.jsxs)(B,{children:[Object(g.jsx)("h3",{children:"Your Order"}),Object(g.jsx)("p",{children:"A delicious burger with the following ingredients:"}),Object(g.jsx)("ul",{children:t}),Object(g.jsx)("p",{children:Object(g.jsxs)("strong",{children:["Total Price: ",e.Price.toFixed(2),"$"]})}),Object(g.jsx)("p",{children:"Continue to Checkout?"}),Object(g.jsx)(D,{btnType:"Danger",clicked:e.purchaseCanceled,children:"CANCEL"}),Object(g.jsx)(D,{btnType:"Success",clicked:e.purchaseContinued,children:"CONTINUE"})]})},H=n(62),L=n.n(H);var P=function(e){return e.show?Object(g.jsx)("div",{className:L.a.Backdrop,onClick:e.clicked}):null},M=n(63),F=n.n(M);var Y=function(e){return Object(g.jsxs)(B,{children:[Object(g.jsx)(P,{show:e.show,clicked:e.modalClosed}),Object(g.jsx)("div",{className:F.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},children:e.children})]})},q=n(22),E=n.n(q),V=E.a.create({baseURL:"https://react-my-burger-c20a1-default-rtdb.firebaseio.com/"}),R=n(64),A=n.n(R);var W=function(e){return Object(g.jsx)("div",{className:A.a.loader,children:"Loading..."})},z=function(e,t){return function(n){Object(l.a)(a,n);var r=Object(d.a)(a);function a(e){var t;return Object(s.a)(this,a),(t=r.call(this,e)).errorConfirmedHandler=function(){t.setState({error:null})},t.state={error:null},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return Object(g.jsxs)(B,{children:[Object(g.jsx)(Y,{show:this.state.error,modalClosed:this.errorConfirmedHandler,children:this.state.error?this.state.error.message:null}),Object(g.jsx)(e,Object(j.a)({},this.props))]})}}]),a}(r.Component)},G={salad:.5,cheese:.4,meat:1.3,bacon:.7},U=z(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).addIngredientHandler=function(e){var t=r.state.ingredients[e]+1,n=Object(j.a)({},r.state.ingredients);n[e]=t;var a=r.state.totalPrice+G[e];r.setState({totalPrice:a,ingredients:n}),r.updatePurchaseState(n)},r.removeIngredientHandler=function(e){var t=r.state.ingredients[e],n=t>0?t-1:0,a=Object(j.a)({},r.state.ingredients);a[e]=n;var i=r.state.totalPrice-G[e];r.setState({totalPrice:i,ingredients:a}),r.updatePurchaseState(a)},r.purchaseHandler=function(){r.setState({purchasing:!0})},r.purchaseCancelHandler=function(){r.setState({purchasing:!1})},r.purchaseContinueHandler=function(){var e=[];for(var t in r.state.ingredients)e.push(t+"="+r.state.ingredients[t]);e.push("price="+r.state.totalPrice);var n=e.join("&");console.log(e),r.props.history.push({pathname:"/checkout",search:"?"+n})},r.state={ingredients:null,totalPrice:2,purchasable:!1,purchasing:!1,loading:!1},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;V.get("https://react-my-burger-c20a1-default-rtdb.firebaseio.com/ingredients.json").then((function(t){e.setState({ingredients:t.data})})).catch((function(t){e.setState({error:!0})}))}},{key:"updatePurchaseState",value:function(e){var t=Object.values(e).reduce((function(e,t){return e+t}),0);this.setState({purchasable:t>0})}},{key:"render",value:function(){var e=Object(j.a)({},this.state.ingredients);for(var t in e)e[t]=e[t]<=0;var n=null,r=this.state.error?Object(g.jsx)("p",{children:"Ingredients can't be loaded"}):Object(g.jsx)(W,{});return this.state.ingredients&&(r=Object(g.jsxs)(B,{children:[Object(g.jsx)(N,{ingredients:this.state.ingredients}),Object(g.jsx)(f,{ingredientAdded:this.addIngredientHandler,ingredientRemoved:this.removeIngredientHandler,disabled:e,purchasable:this.state.purchasable,ordered:this.purchaseHandler,Price:this.state.totalPrice})]}),n=Object(g.jsx)(T,{ingredients:this.state.ingredients,Price:this.state.totalPrice,purchaseCanceled:this.purchaseCancelHandler,purchaseContinued:this.purchaseContinueHandler})),this.state.loading&&(n=Object(g.jsx)(W,{})),Object(g.jsxs)(B,{children:[Object(g.jsx)(Y,{show:this.state.purchasing,modalClosed:this.purchaseCancelHandler,children:n}),r]})}}]),n}(r.Component),V),J=n(65),Q=n(66),X=n.n(Q);var Z=function(e){return Object(g.jsxs)("div",{className:X.a.CheckoutSummary,children:[Object(g.jsx)("h1",{children:"We hope it tastes well"}),Object(g.jsx)(N,{ingredients:e.ingredients}),Object(g.jsx)(D,{btnType:"Danger",clicked:e.checkoutCanceled,children:"Cancel"}),Object(g.jsx)(D,{btnType:"Success",clicked:e.checkoutContinued,children:"Continue"})]})},$=n(67),K=n.n($),ee=n(24),te=n.n(ee),ne=function(e){var t=null,n=[te.a.InputEl];switch(e.invalid&&n.push(te.a.Invalid),e.elementType){case"input":t=Object(g.jsx)("input",Object(j.a)(Object(j.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"textarea":t=Object(g.jsx)("textarea",Object(j.a)(Object(j.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"tel":t=Object(g.jsx)("input",Object(j.a)(Object(j.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":t=Object(g.jsx)("select",Object(j.a)(Object(j.a)({},e.elementConfig),{},{className:n.join(" "),value:e.value,onChange:e.changed,children:e.elementConfig.options.map((function(e){return Object(g.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))}));break;default:t=Object(g.jsx)("input",Object(j.a)(Object(j.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}))}return Object(g.jsxs)("div",{className:te.a.Input,children:[Object(g.jsx)("label",{className:te.a.label,children:e.label}),t]})},re=n(68),ae=n.n(re),ie=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).orderHandler=function(e){e.preventDefault(),r.setState({loading:!0});var t={};for(var n in r.state.orderForm)t[n]=r.state.orderForm[n].value;var a={ingredients:r.props.ingredients,price:Number.parseFloat(r.props.price),formData:t};V.post("/orders.json",a).then((function(e){r.setState({loading:!1}),console.log("Number",r.props.price),r.props.history.push("/")})).catch((function(e){r.setState({loading:!1})}))},r.inputChangedHandler=function(e,t){var n=Object(j.a)({},r.state.orderForm),a=Object(j.a)({},n[t]);a.value=e.target.value,a.valid=r.checkValidation(t,a.value),n[t]=a;var i=!0;for(var c in n)i=n[c].valid&&i;r.setState({orderForm:n,formIsValid:i})},r.state={orderForm:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your name"},value:"",validation:{required:!0},valid:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your email"},value:"",validation:{required:!1},valid:!1},address:{elementType:"textarea",elementConfig:{type:"text",placeholder:"Your address"},value:"",validation:{required:!0},valid:!1},phoneNumber:{elementType:"input",elementConfig:{type:"tel",placeholder:"Your phone number"},value:"",validation:{required:!0},valid:!1},deliveryMethod:{elementType:"select",elementConfig:{options:[{value:"fastest",displayValue:"Giao h\xe0ng nhanh"},{value:"cheapest",displayValue:"Giao h\xe0ng ti\u1ebfp ki\u1ec7m"}]},value:"fastest",valid:!0}},loading:!1,formIsValid:!1},r}return Object(o.a)(n,[{key:"checkValidation",value:function(e,t){var n=!0;switch(e){case"name":case"address":n=""!==t.trim();break;case"email":n=""!==t.trim()&&ae.a.isEmail(t.toLowerCase());break;case"phoneNumber":n=""!==t.trim()&&/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/.test(t);break;default:n=!0}return n}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.orderForm)t.push({id:n,config:this.state.orderForm[n]});var r=Object(g.jsxs)("form",{onSubmit:this.orderHandler,children:[t.map((function(t){return Object(g.jsx)(ne,{elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,changed:function(n){return e.inputChangedHandler(n,t.id)}},t.id)})),Object(g.jsx)(D,{btnType:"Success",disabled:!this.state.formIsValid,children:"Order"})]});return this.state.loading&&(r=Object(g.jsx)(W,{})),Object(g.jsxs)("div",{className:K.a.ContactData,children:[Object(g.jsx)("h4",{children:"Enter your Contact Data"}),r]})}}]),n}(r.Component),ce=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).checkoutCanceledHandler=function(){r.props.history.goBack()},r.checkoutContinuedHandler=function(){r.props.history.replace("/checkout/contact-data")},r.state={ingredients:{salad:1},price:0},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e,t=new URLSearchParams(this.props.location.search),n=0,r={},a=Object(J.a)(t.entries());try{for(a.s();!(e=a.n()).done;){var i=e.value;"price"===i[0]?n=i[1]:r[i[0]]=+i[1],console.log("ingredients:",r),this.setState({ingredients:r,price:n})}}catch(c){a.e(c)}finally{a.f()}this.setState({ingredients:r})}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)(Z,{ingredients:this.state.ingredients,checkoutCanceled:this.checkoutCanceledHandler,checkoutContinued:this.checkoutContinuedHandler}),Object(g.jsx)(u.a,{path:this.props.match.path+"/contact-data",render:function(t){return Object(g.jsx)(ie,{ingredients:e.state.ingredients,price:e.state.price,history:t.history})}})]})}}]),n}(r.Component),se=n(70),oe=n.n(se),le=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(g.jsxs)("span",{style:{textTransform:"capitalize",display:"inline-block",margin:"0 8px",padding:"5px",border:"1px solid #ccc"},children:[t," (",e.ingredients[t],")"]},t)}));return Object(g.jsxs)("div",{className:oe.a.Order,children:[Object(g.jsxs)("p",{children:["Ingredients: ",t]}),Object(g.jsxs)("p",{children:["Price: ",Object(g.jsxs)("strong",{children:[e.price," $"]})]})]})},de=z(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={orders:[],loading:!0},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.a.get("https://react-my-burger-c20a1-default-rtdb.firebaseio.com/orders.json").then((function(t){var n=[];for(var r in t.data)n.push(Object(j.a)(Object(j.a)({},t.data[r]),{},{id:r}));e.setState({loading:!1,orders:n})})).catch((function(t){console.log("err",t),e.setState({loading:!1})}))}},{key:"render",value:function(){return Object(g.jsx)("div",{children:this.state.orders.map((function(e){return Object(g.jsx)(le,{ingredients:e.ingredients,price:Number.parseFloat(e.price).toFixed(2)},e.id)}))})}}]),n}(r.Component),E.a),ue=n.p+"static/media/burger-logo.ec69c7f6.png",je=n(71),he=n.n(je);var be=function(e){return Object(g.jsx)("div",{className:he.a.Logo,style:{height:e.height},children:Object(g.jsx)("img",{src:ue,alt:"LOGO"})})},pe=n(72),Oe=n.n(pe);var ge=function(e){return Object(g.jsxs)("div",{className:Oe.a.DrawerToggle,onClick:e.clicked,children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})},ve=n(17),me=n(37),fe=n.n(me);var xe=function(e){return Object(g.jsx)("li",{className:fe.a.NavigationItem,children:Object(g.jsx)(ve.b,{exact:e.exact,to:e.link,activeClassName:fe.a.active,children:e.children})})},_e=n(73),Ce=n.n(_e);var ye=function(e){return Object(g.jsxs)("ul",{className:Ce.a.NavigationItems,children:[Object(g.jsx)(xe,{exact:!0,link:"/",active:!0,children:"Burger Builder"}),Object(g.jsx)(xe,{link:"/orders",children:"Orders"})]})},ke=n(27),Se=n.n(ke);var Ne=function(e){return Object(g.jsxs)("header",{className:Se.a.Toolbar,children:[Object(g.jsx)(ge,{clicked:e.drawerToggleClicked}),Object(g.jsx)("div",{className:Se.a.Logo,children:Object(g.jsx)(be,{})}),Object(g.jsx)("nav",{className:Se.a.DesktopOnly,children:Object(g.jsx)(ye,{})})]})},Be=n(18),we=n.n(Be);var Ie=function(e){var t=[we.a.SideDrawer,we.a.Close];return e.open&&(t=[we.a.SideDrawer,we.a.Open]),Object(g.jsxs)(B,{children:[Object(g.jsx)(P,{show:e.open,clicked:e.closed}),Object(g.jsxs)("div",{className:t.join(" "),children:[Object(g.jsx)("div",{className:we.a.Logo,children:Object(g.jsx)(be,{})}),Object(g.jsx)("nav",{children:Object(g.jsx)(ye,{})})]})]})},De=n(74),Te=n.n(De),He=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).sideDrawerCloseHandler=function(){r.setState({showSideDrawer:!1})},r.sideDrawerToggleHandler=function(){r.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},r.state={showSideDrawer:!1},r}return Object(o.a)(n,[{key:"render",value:function(){return Object(g.jsxs)(B,{children:[Object(g.jsx)(Ne,{drawerToggleClicked:this.sideDrawerToggleHandler}),Object(g.jsx)(Ie,{closed:this.sideDrawerCloseHandler,open:this.state.showSideDrawer}),Object(g.jsx)("main",{className:Te.a.Content,children:this.props.children})]})}}]),n}(r.Component),Le=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(He,{children:Object(g.jsxs)(u.c,{children:[Object(g.jsx)(u.a,{path:"/checkout",component:ce}),Object(g.jsx)(u.a,{path:"/orders",component:de}),Object(g.jsx)(u.a,{exact:!0,path:"/",component:U})]})})})}}]),n}(r.Component),Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,185)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},Me=Object(g.jsx)(ve.a,{children:Object(g.jsx)(Le,{})});c.a.render(Object(g.jsx)(a.a.StrictMode,{children:Me}),document.getElementById("root")),Pe()},23:function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__3Hees",Label:"BuildControl_Label__1PjYN",Less:"BuildControl_Less__2rv-3",More:"BuildControl_More__uEhzm"}},24:function(e,t,n){e.exports={Input:"Input_Input__1cwgv",Label:"Input_Label__UbiqT",InputEl:"Input_InputEl__1Ojcn",Invalid:"Input_Invalid__lgSDy"}},27:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__16ZQh",Logo:"Toolbar_Logo__1oMuv",DesktopOnly:"Toolbar_DesktopOnly__1eXc2"}},33:function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__IcOSO",OrderButton:"BuildControls_OrderButton__1eJaO",enable:"BuildControls_enable__27HVz"}},34:function(e,t,n){e.exports={Button:"Button_Button__Nu8qK",Success:"Button_Success__3aiBQ",Danger:"Button_Danger__ttu0Y"}},37:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__mSugq",active:"NavigationItem_active__1dXQP"}},61:function(e,t,n){e.exports={Burger:"Burger_Burger__2jy8H"}},62:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__27ZO-"}},63:function(e,t,n){e.exports={Modal:"Modal_Modal__nnqsv"}},64:function(e,t,n){e.exports={loader:"Spinner_loader__1ru-g",load4:"Spinner_load4__1ympW"}},66:function(e,t,n){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__Y6Y2W"}},67:function(e,t,n){e.exports={ContactData:"ContactData_ContactData__1R1HX"}},70:function(e,t,n){e.exports={Order:"Order_Order__1Y46y"}},71:function(e,t,n){e.exports={Logo:"Logo_Logo__2MW7o"}},72:function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__2ysjf"}},73:function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__2mpYz"}},74:function(e,t,n){e.exports={Content:"Layout_Content__3b_80"}},80:function(e,t,n){},81:function(e,t,n){}},[[184,1,2]]]);
//# sourceMappingURL=main.c1f0e5f6.chunk.js.map